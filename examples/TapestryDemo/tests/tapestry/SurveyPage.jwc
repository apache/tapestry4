<?xml version="1.0"?>
<!DOCTYPE specification PUBLIC 
	"-//Primix Solutions//Tapestry Specification 1.0//EN"
	"http://tapestry.primix.com/dtd/Tapestry_1_0.dtd">
<!-- $Id$ -->

<specification>
	<class>tests.tapestry.SurveyPage</class>
	
	<components>
		<component>
			<id>border</id>
			<type>Border</type>
			
			<bindings>
				<static-binding>
					<name>title</name>
					<value>Survey</value>
				</static-binding>
			</bindings>
		</component>

		<component>
			<id>ifShowResults</id>
			<type>Conditional</type>
			
			<bindings>
				<binding>
					<name>condition</name>
					<property-path>showForm</property-path>
				</binding>
				
				<static-binding>
					<name>invert</name>	
					<value>true</value>
				</static-binding>
			</bindings>
		</component>
		
		<component>
			<id>insertName</id>
			<type>Insert</type>
			
			<bindings>
				<binding>
					<name>value</name>
					<property-path>survey.name</property-path>
				</binding>
			</bindings>
		</component>
		
		<component>
			<id>insertAge</id>
			<type>Insert</type>
			
			<bindings>
				<binding>
					<name>value</name>
					<property-path>survey.age</property-path>
				</binding>
			</bindings>
		</component>
		
		<component>
			<id>insertSex</id>
			<type>Insert</type>
			
			<bindings>
				<binding>
					<name>value</name>
					<property-path>surveySex</property-path>
				</binding>
			</bindings>
		</component>
		
		<component>
			<id>insertMagazine</id>
			<type>Insert</type>
			
			<bindings>
				<binding>
					<name>value</name>
					<property-path>survey.magazine</property-path>
				</binding>
			</bindings>
		</component>		
		
		<component>
			<id>insertComments</id>
			<type>Insert</type>
			
			<bindings>
				<binding>
					<name>value</name>
					<property-path>survey.comment</property-path>
				</binding>
			</bindings>
		</component>

		<component>
			<id>retakeAction</id>
			<type>Action</type>
			
			<bindings>
				<binding>
					<name>listener</name>
					<property-path>retakeListener</property-path>
				</binding>
			</bindings>
		</component>

		<component>
			<id>ifShowForm</id>
			<type>Conditional</type>
			
			<bindings>
				<binding>
					<name>condition</name>
					<property-path>showForm</property-path>
				</binding>
			</bindings>
		</component>
		

		<component>
			<id>surveyForm</id>
			<type>Form</type>
			
			<bindings>
				<binding>
					<name>listener</name>
					<property-path>formListener</property-path>
				</binding>
			</bindings>
		</component>

		<component>
			<id>nameField</id>
			<type>TextField</type>
			
			<bindings>
				<binding>
					<name>text</name>
					<property-path>survey.name</property-path>
				</binding>
				
				<static-binding>
					<name>displayWidth</name>
					<value>40</value>
				</static-binding>
			</bindings>
		</component>
		
		<component>
			<id>ageSelect</id>
			<type>Select</type>
		</component>
		
		<component>
			<id>e-age</id>
			<type>Foreach</type>
			
			<bindings>
				<binding>
					<name>source</name>
					<property-path>ageAdaptor.options</property-path>
				</binding>
				
				<binding>
					<name>value</name>
					<property-path>ageAdaptor.currentSelection</property-path>
				</binding>
				
				<binding>
					<name>first</name>
					<property-path>ageAdaptor.first</property-path>
				</binding>
				
				<binding>
					<name>last</name>
					<property-path>ageAdaptor.last</property-path>
				</binding>
			</bindings>
		</component>

		<component>
			<id>ageOption</id>
			<type>Option</type>
			
			<bindings>
				<binding>
					<name>selected</name>
					<property-path>ageAdaptor.selected</property-path>
				</binding>
				
				<binding>
					<name>label</name>
					<property-path>ageAdaptor.currentSelection</property-path>
				</binding>
			</bindings>
		</component>
		
		<component>
			<id>sexGroup</id>
			<type>SimpleRadioGroup</type>
			
			<bindings>
				<binding>
					<name>adaptor</name>
					<property-path>sexAdaptor</property-path>
				</binding>
			</bindings>
		</component>
		
		<component>
			<id>magazineGroup</id>
			<type>SimpleRadioGroup</type>
			
			<bindings>
				<binding>
					<name>adaptor</name>
					<property-path>magazineAdaptor</property-path>
				</binding>
			</bindings>
		</component>	

		<component>
			<id>commentsField</id>
			<type>Text</type>
			
			<bindings>
				<binding>
					<name>text</name>
					<property-path>survey.comment</property-path>
				</binding>
				
				<static-binding>
					<name>rows</name>
					<value>10</value>
				</static-binding>
				
				<static-binding>
					<name>columns</name>
					<value>70</value>
				</static-binding>
			</bindings>
		</component>

		<component>
			<id>submit</id>
			<type>ImageButton</type>
			
			<bindings>
				<binding>
					<name>image</name>
					<property-path>assets.submit</property-path>
				</binding>
			</bindings>
		</component>
	</components>
	
	<assets>
		<internal-asset>
			<name>submit</name>
			<path>assets/survey-submit.gif</path>
		</internal-asset>
	</assets>
	
</specification>