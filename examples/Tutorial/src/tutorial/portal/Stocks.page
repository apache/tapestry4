<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id$ -->
<!DOCTYPE page-specification PUBLIC 
	"-//Howard Lewis Ship//Tapestry Specification 1.3//EN" 
	"http://tapestry.sf.net/dtd/Tapestry_1_3.dtd">

    
<page-specification class="tutorial.portal.Stocks">

<bean name="delegate" class="net.sf.tapestry.valid.ValidationDelegate"/>
    
<bean name="rowClass" class="net.sf.tapestry.bean.EvenOdd"/>

<component id="content" type="Block"/>

<component id="e" type="Foreach">
  <binding name="source" expression="stocks"/>
  <binding name="value" expression="stock"/>
  <static-binding name="element">tr</static-binding>
  <binding name="class" expression="beans.rowClass.next"/>
</component>

<component id="insertStock" type="Insert">
  <binding name="value" expression="stock.tickerId"/>
</component>

<component id="insertValue" type="Insert">
  <binding name="value" expression="stock.price"/>
  <binding name="format" expression="decimalFormat"/>
</component>

<component id="insertDelta" type="Insert">
  <binding name="value" expression="stock.change"/>
  <binding name="format" expression="decimalFormat"/>
</component>

<component id="showError" type="ShowError">
  <binding name="delegate" expression="beans.delegate"/>
</component>

<component id="form" type="Form">
  <binding name="listener" expression="listeners.addStock"/>
  <binding name="direct" expression="false"/>
  <binding name="delegate" expression="beans.delegate"/>
</component>

<component id="inputTickerId" type="ValidField">
  <binding name="value" expression="tickerId"/>
  <static-binding name="displayName">Ticker ID</static-binding>
  <field-binding name="validator" field-name="net.sf.tapestry.valid.StringValidator.REQUIRED"/>
  <static-binding name="displayWidth">4</static-binding>
  <static-binding name="maximumLength">4</static-binding>
  <static-binding name="title">
    For this demo, valid stocks are:
    PMIX, MSFT, SUN
  </static-binding>
</component>

</page-specification>
