<span jwcid="@Border">

<p>
Simple For loop listing locales.
</p>

<style>
	.localeList {
		/* padding:0.3em; */
        background: #2A78B0;
        display:block;
		float:left;
		width:20%;
        margin-top:0.6em;
		margin-left:0.5em;
    }

    .localeList a { color: #fff;}

    .localeList p { margin: 0 10px;}

    .roundtop {
        background: url("rounded?c=2A78B0&bc=white&w=8&h=8&a=tr") no-repeat top right;
    }
    .selectedRoundtop {
        background: url("rounded?c=efefef&bc=white&w=8&h=8&a=tr") no-repeat top right;
    }

    .roundbottom {
        background: url("rounded?c=2A78B0&bc=white&w=8&h=8&a=br") no-repeat top right;
    }
    .selectedRoundbottom {
        background: url("rounded?c=efefef&bc=white&w=8&h=8&a=br") no-repeat top right;
    }

    img.corner {
        width: 8px;
        height: 8px;
        border: none;
        display: block !important;
    }

    .selected {
		background: #efefef;
	}
	
	.selected a {
		color: #000;
	}
	
	.detail {
		clear:left;
		display:block;
		padding: 1em;
		width: 56%;
		margin-top:1em;
		border-left: 1px solid #efefef;
		border-top: 1px solid #efefef;
		border-bottom: 1px solid #aaa;
		border-right: 1px solid #aaa;
		-moz-border-radius: 0.7em;
	}
	
	.status {
		display:block;
		clear:both;
		width:70%;
		height: 50px;
		overflow:auto;
		font-family: arial;
		font-size:8pt;
		padding: 0.4em;
		border:1px dotted #D6AE33;
	}

    .clear {
        clear:both;
        display:block;
        float:left;
        width:100%;
        height: 20px;
    }

</style>

<span jwcid="localeDetail@Any">
	<p class="detail" jwcid="@If" condition="ognl:selected" >
		<strong>Country:</strong> 
		<span jwcid="@Insert" value="ognl:selected.displayCountry" mode="ognl:@org.apache.tapestry.components.InsertMode@BREAK" />
		&nbsp;
		<strong>Language:</strong>
		<span jwcid="@Insert" value="ognl:selected.displayLanguage" mode="ognl:@org.apache.tapestry.components.InsertMode@BREAK" />
		&nbsp;
		<strong>Variant:</strong>
		<span jwcid="@Insert" value="ognl:selected.displayVariant" mode="ognl:@org.apache.tapestry.components.InsertMode@BREAK" />
	</p>
</span>

<div jwcid="status@Any" class="status" >
	<span jwcid="@Insert" value="ognl:status" />
</div>

<div class="ognl:currentSelected ? 'selected localeList' : 'localeList'"
     jwcid="localeList@For"
     source="ognl:@org.apache.tapestry.timetracker.page.LocaleList@LOCALES" value="ognl:currLocale">

    <div jwcid="@Any" class="ognl:currentSelected ? 'selectedRoundtop' : 'roundtop'">
        
        <img jwcid="@Any" src="ognl:getRoundedUrl('tl')" width="8" height="8" class="corner" style="display: none" />
        
    </div>
    <p>
    <a jwcid="localeLink@DirectLink" listener="listener:selectLocale" parameters="ognl:{currLocale.language, currLocale.country, currLocale.variant}"
       updateComponents="ognl:{'localeDetail',page.components.localeList.clientId}" stateful="ognl:false">
        <span jwcid="@Insert" value="ognl:currLocale.toString()" />
    </a>
    </p>
    <div jwcid="@Any" class="ognl:currentSelected ? 'selectedRoundbottom' : 'roundbottom'">

        <img jwcid="@Any" src="ognl:getRoundedUrl('bl')" width="8" height="8" class="corner" style="display: none" />

    </div>
</div>

<p class="clear" />
<p class="clear" />

</span>
