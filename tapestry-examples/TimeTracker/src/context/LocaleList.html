<span jwcid="@Border">

<p>
Simple For loop listing locales.
</p>

<style>
	.localeList {
		-moz-border-radius: 8px;
		background: #2A78B0;
		display:block;
		float:left;
		width:20%;
		margin-top:0.6em;
		margin-left:0.5em;
		padding:0.3em;
	}
	
	.localeList a { color: #fff;}
	
	.selected {
		background: #efefef;
	}
	
	.selected a {
		color: #000;
	}
	
	.detail {
		clear:left;
		display:block;
		padding: 1em;
		width: 56%;
		margin-top:1em;
		border-left: 1px solid #efefef;
		border-top: 1px solid #efefef;
		border-bottom: 1px solid #aaa;
		border-right: 1px solid #aaa;
		-moz-border-radius: 0.7em;
	}
	
	.status {
		display:block;
		clear:both;
		width:70%;
		height: 50px;
		overflow:auto;
		font-family:Arial;
		font-size:8pt;
		padding: 0.4em;
		border:1px dotted #D6AE33;
	}
	
</style>

<span jwcid="localeDetail@Any">
	<p class="detail" jwcid="@If" condition="ognl:selected" >
		<strong>Country:</strong> 
		<span jwcid="@Insert" value="ognl:selected.displayCountry" mode="ognl:@org.apache.tapestry.components.InsertMode@BREAK" />
		&nbsp;
		<strong>Language:</strong>
		<span jwcid="@Insert" value="ognl:selected.displayLanguage" mode="ognl:@org.apache.tapestry.components.InsertMode@BREAK" />
		&nbsp;
		<strong>Variant:</strong>
		<span jwcid="@Insert" value="ognl:selected.displayVariant" mode="ognl:@org.apache.tapestry.components.InsertMode@BREAK" />
	</p>
</span>

<div jwcid="status@Any" class="status" >
	<span jwcid="@Insert" value="ognl:status" />
</div>

<div class="ognl:(selected != null and currLocale.toString() == selected.toString()) ? 'selected localeList' : 'localeList'" 
		jwcid="localeList@For" 
		source="ognl:@org.apache.tapestry.timetracker.page.LocaleList@LOCALES" value="ognl:currLocale">
	
	<a jwcid="localeLink@DirectLink" listener="listener:selectLocale" parameters="ognl:{currLocale.language, currLocale.country, currLocale.variant}"
		updateComponents="ognl:{'localeDetail',page.components.localeList.clientId}">
		<span jwcid="@Insert" value="ognl:currLocale.toString()" />
	</a>
</div>
<br/>

</span>
